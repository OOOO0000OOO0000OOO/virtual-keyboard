(()=>{"use strict";var e={890:(e,t,s)=>{s.d(t,{Z:()=>a});var o=s(81),i=s.n(o),n=s(645),l=s.n(n)()(i());l.push([e.id,"body > div {\n  margin: 0 auto;\n  font-family: \"Helvetica\", sans-serif;\n}\n\nbody div .title {\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  margin: 10px auto;\n  text-align: center;\n  font-size: 30px;\n  color: rgba(101,134,177,0.8);\n}\n\nbody div .output {\n  -webkit-text-size-adjust: 100%;\n  font-family: inherit;\n  line-height: 1.15;\n  overflow: auto;\n  display: block;\n  width: 700px;\n  height: 200px;\n  margin: 10px auto 10px;\n  padding: 10px;\n  font-size: 18px;\n  color: #444444;\n  font-family: 'Courier New', Courier, monospace;\n  box-sizing: content-box;\n  resize: none;\n}\n\n.keyboard {\n  line-height: 1.15;\n  width: 704px;\n  margin: 0 auto;\n  padding: 5px;\n  background: #999898;\n  border: 3px solid #070707;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  row-gap: 10px\n}\n\n.keyboard__row {\n  display: flex;\n  column-gap: 6px;\n  height: 40px;\n}\n\n.keyboard__key {\n  min-height: 40px;\n  min-width: 40px;\n  line-height: 40px;\n  text-align: center;\n  color: #ffffff;\n  cursor: pointer;\n  user-select: none;\n  display: block;\n  background: #494949;\n  border-radius: 3px;\n  cursor: pointer;\n  user-select: none;\n  transition: border-radius 0.3s, background-color 0.3s;\n}\n\n.keyboard .keyboard__key:hover {\n  background-color: #666666;\n}\n\n.keyboard__key.fn__true {\n  background-color: #1a1a1a;\n}\n\n.keyboard__key.fn__true.key__Tab {\n  min-width: 50px;\n}\n\n.keyboard__key.fn__true.key__ShiftLeft,\n.keyboard__key.fn__true.key__CapsLock {\n  min-width: 100px;\n}\n\n.keyboard__key.fn__true.key__Delete,\n.keyboard__key.fn__true.key__Backspace,\n.keyboard__key.fn__true.key__Enter,\n.keyboard__key.fn__true.key__ShiftRight {\n  width: 100%;\n}\n\n.keyboard__key.key__Space {\n  width: 330px;\n}\n\n.subtitle {\n  text-align: center;\n}\n\nkbd {\n  border: 1px solid #070707;\n  padding: 3px;\n}\n\n.keyboard .keyboard__key.active {\n  background-color: yellowgreen;\n}\n\ndiv.keyboard__key.fn__false.key__Space .letter{\n  width: 100%;\n  height: 100%;\n}",""]);const a=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",o=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),o&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),o&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,o,i,n){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(o)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(l[r]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&l[d[0]]||(void 0!==n&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=n),s&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=s):d[2]=s),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function s(e){for(var s=-1,o=0;o<t.length;o++)if(t[o].identifier===e){s=o;break}return s}function o(e,o){for(var n={},l=[],a=0;a<e.length;a++){var r=e[a],c=o.base?r[0]+o.base:r[0],d=n[c]||0,h="".concat(c," ").concat(d);n[c]=d+1;var u=s(h),f={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var y=i(f,o);o.byIndex=a,t.splice(a,0,{identifier:h,updater:y,references:1})}l.push(h)}return l}function i(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;s.update(e=t)}else s.remove()}}e.exports=function(e,i){var n=o(e=e||[],i=i||{});return function(e){e=e||[];for(var l=0;l<n.length;l++){var a=s(n[l]);t[a].references--}for(var r=o(e,i),c=0;c<n.length;c++){var d=s(n[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}n=r}}},569:e=>{var t={};e.exports=function(e,s){var o=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(s)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var o="";s.supports&&(o+="@supports (".concat(s.supports,") {")),s.media&&(o+="@media ".concat(s.media," {"));var i=void 0!==s.layer;i&&(o+="@layer".concat(s.layer.length>0?" ".concat(s.layer):""," {")),o+=s.css,i&&(o+="}"),s.media&&(o+="}"),s.supports&&(o+="}");var n=s.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={id:o,exports:{}};return e[o](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=s(379),t=s.n(e),o=s(795),i=s.n(o),n=s(569),l=s.n(n),a=s(565),r=s.n(a),c=s(216),d=s.n(c),h=s(589),u=s.n(h),f=s(890),y={};y.styleTagTransform=u(),y.setAttributes=r(),y.insert=l().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),t()(f.Z,y),f.Z&&f.Z.locals&&f.Z.locals;class m{constructor(e,t="div",s="",o=""){const i=document.createElement(t);i.className=s,i.innerHTML=o,e&&e.appendChild(i),this.node=i}destroy(){this.node.remove()}}class p extends m{constructor(){super(null,"textarea","output"),[["placeholder","Start typing something..."],["spellcheck",!1],["autocorrect","off"]].forEach((([e,t])=>{this.node.setAttribute(e,t)}))}createOutput(e,t=""){this.cursor=this.node.selectionStart;const{selectionEnd:s}=this.node,o=this.node.value.slice(0,this.cursor),i=this.node.value.slice(this.cursor),n=this.node.value.slice(s);this.outputHandlers={Tab:()=>{this.cursor+=1,this.node.value=`${o}\t${i}`},ArrowLeft:()=>{this.cursor=this.cursor>0?this.cursor-1:0},ArrowRight:()=>{this.cursor+=1},ArrowUp:()=>{this.cursor+=1},ArrowDown:()=>{this.cursor=this.cursor>0?this.cursor-1:0},Enter:()=>{this.node.value=`${o}\n${i}`,this.cursor+=1},Delete:()=>{this.node.value=this.cursor===s?`${o}${i.slice(1)}`:`${o}${n}`},Backspace:()=>{this.node.value=this.cursor===s?`${o.slice(0,-1)}${i}`:`${o}${n}`,this.cursor===s&&(this.cursor-=1)},Key:()=>{this.node.value=this.cursor===s?`${o}${t}${i}`:`${o}${t}${n}`,this.cursor+=1}},this.outputHandlers[e]&&this.outputHandlers[e](),t&&this.outputHandlers.Key(),this.node.setSelectionRange(this.cursor,this.cursor)}}class k{constructor({small:e,shift:t,code:s,isFnKey:o=!1}){this.code=s,this.small=e,this.shift=t,this.isFnKey=o,this.button=new m(null,"div",`keyboard__key fn__${this.isFnKey} key__${this.code}`),this.letter=new m(this.button.node,"div","letter",this.small)}switchCase(){this.isFnKey||(this.letter.node.textContent=this.letter.node.textContent===this.small?this.shift:this.small)}set(e){this.small=e.small,this.shift=e.shift,this.letter.destroy(),this.letter=new m(this.button.node,"div","letter",this.small)}}class b{constructor(e,t){this.rows=t,this.keys=e,this.keysLayout=localStorage.getItem("ooo000oooLayout")||"en",this.keysPressed={},this.isCaps=!1,this.container=new m(null,"div","keyboard"),this.buttons=[],this.rows.forEach((t=>{const s=new m(this.container.node,"div","keyboard__row");t.forEach((t=>{const o=e[this.keysLayout].find((e=>e.code===t));if(o){const e=new k(o);this.buttons.includes(e)||this.buttons.push(e),s.node.appendChild(e.button.node)}}))}))}reset(e){this.keysPressed[e]&&delete this.keysPressed[e]}switchCase(){this.buttons.map((e=>e.switchCase()))}switchCaps(){this.buttons.map((e=>e.small.toUpperCase()===e.shift?e.switchCase():e))}switchLayout(){this.keysLayout="en"===this.keysLayout?"ru":"en",this.buttons.map((e=>{if(e.isFnKey)return e;const t=this.keys[this.keysLayout].find((t=>t.code===e.code));return e.set(t)})),this.isCaps&&this.switchCaps(),this.shiftKey&&this.switchCase(),this.setLayout()}setLayout(){localStorage.setItem("ooo000oooLayout",this.keysLayout)}}class K{constructor(e,t){this.keyboard=e,this.output=t,document.onkeydown=this.handleDownEvent.bind(this),document.onkeyup=this.handleUpEvent.bind(this),document.onkeypress=this.handlePressEvent.bind(this),this.keyboard.container.node.onmousedown=this.handleMouseDownEvent.bind(this),this.keyboard.container.node.onmouseup=this.handleMouseUpEvent.bind(this)}handleDownEvent(e){e.stopPropagation();const t=this.keyboard.buttons.find((t=>t.code===e.code));if(!t)return;if(this.keyboard.keysPressed[t.code])return;t.isFnKey||e.preventDefault(),this.output.node.focus();const s=t.button.node;s.classList.add("active"),"Tab"!==e.code&&"Alt"!==e.code||e.preventDefault(),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(this.keyboard.shiftKey=!0,this.keyboard.switchCase()),"ControlLeft"!==e.code&&"ControlRight"!==e.code||(this.keyboard.ctrlKey=!0),"AltLeft"!==e.code&&"AltRight"!==e.code||(this.keyboard.altKey=!0),(("ControlLeft"===e.code||"ControlRight"===e.code)&&this.keyboard.altKey||("AltLeft"===e.code||"AltRight"===e.code)&&this.keyboard.ctrlKey)&&this.keyboard.switchLayout(),"CapsLock"!==e.code||this.keyboard.isCaps?"CapsLock"===e.code&&this.keyboard.isCaps&&(this.keyboard.isCaps=!1,this.keyboard.switchCaps(),s.classList.remove("active")):(this.keyboard.isCaps=!0,this.keyboard.switchCaps()),this.keyboard.keysPressed[t.code]=t}handleUpEvent(e){e.stopPropagation();const t=this.keyboard.buttons.find((t=>t.code===e.code));t&&(this.output.node.focus(),(!e.isTrusted||!t.isFnKey&&e.isTrusted||"Tab"===t.code)&&this.createOutputStream(t,e),this.keyboard.reset(e.code,t),"ShiftLeft"!==e.code&&"ShiftRight"!==e.code||(this.keyboard.shiftKey=!1,this.keyboard.switchCase()),"ControlLeft"!==e.code&&"ControlRight"!==e.code||(this.keyboard.ctrlKey=!1),"AltLeft"!==e.code&&"AltRight"!==e.code||(this.keyboard.altKey=!1),"CapsLock"!==e.code&&t.button.node.classList.remove("active"))}handleMouseDownEvent(e){const t=this.keyboard.buttons.map((e=>e.letter.node));if(!t.includes(e.target))return;const{code:s}=this.keyboard.buttons[t.indexOf(e.target)];document.dispatchEvent(new KeyboardEvent("keydown",{code:s})),s.match(/Shift|Alt|Caps|Control|Meta/)||(this.simulateKeyPress(s),e.target.addEventListener("mouseleave",(()=>clearInterval(this.press))))}simulateKeyPress(e){this.press=setInterval((()=>{document.dispatchEvent(new KeyboardEvent("keypress",{code:e}))}),150)}handleMouseUpEvent(e){clearInterval(this.press);const t=this.keyboard.buttons.map((e=>e.letter.node));if(!t.includes(e.target))return;const{code:s}=this.keyboard.buttons[t.indexOf(e.target)];document.dispatchEvent(new KeyboardEvent("keyup",{code:s}))}createOutputStream(e,t){const s=this.keyboard.buttons.map((e=>e.letter.node)),{isFnKey:o}=e,i=o?"":s[this.keyboard.buttons.indexOf(e)];this.output.createOutput(t.code,i.textContent)}handlePressEvent(e){e.stopPropagation(),e.preventDefault();const t=this.keyboard.buttons.find((t=>t.code===e.code));this.createOutputStream(t,e)}}const g={ru:[{code:"Backquote",small:"ё",shift:"Ё"},{code:"Digit1",small:"1",shift:"!"},{code:"Digit2",small:"2",shift:'"'},{code:"Digit3",small:"3",shift:"№"},{code:"Digit4",small:"4",shift:";"},{code:"Digit5",small:"5",shift:"%"},{code:"Digit6",small:"6",shift:":"},{code:"Digit7",small:"7",shift:"?"},{code:"Digit8",small:"8",shift:"*"},{code:"Digit9",small:"9",shift:"("},{code:"Digit0",small:"0",shift:")"},{code:"Minus",small:"-",shift:"_"},{code:"Equal",small:"=",shift:"+"},{code:"Backspace",small:"Backspace",shift:null,isFnKey:!0},{code:"Tab",small:"Tab",shift:null,isFnKey:!0},{code:"KeyQ",small:"й",shift:"Й"},{code:"KeyW",small:"ц",shift:"Ц"},{code:"KeyE",small:"у",shift:"У"},{code:"KeyR",small:"к",shift:"К"},{code:"KeyT",small:"е",shift:"Е"},{code:"KeyY",small:"н",shift:"Н"},{code:"KeyU",small:"г",shift:"Г"},{code:"KeyI",small:"ш",shift:"Ш"},{code:"KeyO",small:"щ",shift:"Щ"},{code:"KeyP",small:"з",shift:"З"},{code:"BracketLeft",small:"х",shift:"Х"},{code:"BracketRight",small:"ъ",shift:"Ъ"},{code:"Backslash",small:"\\",shift:"/"},{code:"Delete",small:"Del",shift:null,isFnKey:!0},{code:"CapsLock",small:"CapsLock",shift:null,isFnKey:!0},{code:"KeyA",small:"ф",shift:"Ф"},{code:"KeyS",small:"ы",shift:"Ы"},{code:"KeyD",small:"в",shift:"В"},{code:"KeyF",small:"а",shift:"А"},{code:"KeyG",small:"п",shift:"П"},{code:"KeyH",small:"р",shift:"Р"},{code:"KeyJ",small:"о",shift:"О"},{code:"KeyK",small:"л",shift:"Л"},{code:"KeyL",small:"д",shift:"Д"},{code:"Semicolon",small:"ж",shift:"Ж"},{code:"Quote",small:"э",shift:"Э"},{code:"Enter",small:"Enter",shift:null,isFnKey:!0},{code:"ShiftLeft",small:"Shift",shift:null,isFnKey:!0},{code:"KeyZ",small:"я",shift:"Я"},{code:"KeyX",small:"ч",shift:"Ч"},{code:"KeyC",small:"с",shift:"С"},{code:"KeyV",small:"м",shift:"М"},{code:"KeyB",small:"и",shift:"И"},{code:"KeyN",small:"т",shift:"Т"},{code:"KeyM",small:"ь",shift:"Ь"},{code:"Comma",small:"б",shift:"Б"},{code:"Period",small:"ю",shift:"Ю"},{code:"Slash",small:".",shift:","},{code:"ArrowUp",small:"&uarr;",shift:null,isFnKey:!0},{code:"ShiftRight",small:"Shift",shift:null,isFnKey:!0},{code:"ControlLeft",small:"Ctrl",shift:null,isFnKey:!0},{code:"MetaLeft",small:"Win",shift:null,isFnKey:!0},{code:"AltLeft",small:"Alt",shift:null,isFnKey:!0},{code:"Space",small:" ",shift:" "},{code:"AltRight",small:"Alt",shift:null,isFnKey:!0},{code:"ArrowLeft",small:"&larr;",shift:null,isFnKey:!0},{code:"ArrowDown",small:"&darr;",shift:null,isFnKey:!0},{code:"ArrowRight",small:"&rarr;",shift:null,isFnKey:!0},{code:"ControlRight",small:"Ctrl",shift:null,isFnKey:!0}],en:[{code:"Backquote",small:"`",shift:"~"},{code:"Digit1",small:"1",shift:"!"},{code:"Digit2",small:"2",shift:"@"},{code:"Digit3",small:"3",shift:"#"},{code:"Digit4",small:"4",shift:"$"},{code:"Digit5",small:"5",shift:"%"},{code:"Digit6",small:"6",shift:"^"},{code:"Digit7",small:"7",shift:"&"},{code:"Digit8",small:"8",shift:"*"},{code:"Digit9",small:"9",shift:"("},{code:"Digit0",small:"0",shift:")"},{code:"Minus",small:"-",shift:"_"},{code:"Equal",small:"=",shift:"+"},{code:"Backspace",small:"Backspace",shift:null,isFnKey:!0},{code:"Tab",small:"Tab",shift:null,isFnKey:!0},{code:"KeyQ",small:"q",shift:"Q"},{code:"KeyW",small:"w",shift:"W"},{code:"KeyE",small:"e",shift:"E"},{code:"KeyR",small:"r",shift:"R"},{code:"KeyT",small:"t",shift:"T"},{code:"KeyY",small:"y",shift:"Y"},{code:"KeyU",small:"u",shift:"U"},{code:"KeyI",small:"i",shift:"I"},{code:"KeyO",small:"o",shift:"O"},{code:"KeyP",small:"p",shift:"P"},{code:"BracketLeft",small:"[",shift:"{"},{code:"BracketRight",small:"]",shift:"}"},{code:"Backslash",small:"\\",shift:"|"},{code:"Delete",small:"Del",shift:null,isFnKey:!0},{code:"CapsLock",small:"CapsLock",shift:null,isFnKey:!0},{code:"KeyA",small:"a",shift:"A"},{code:"KeyS",small:"s",shift:"S"},{code:"KeyD",small:"d",shift:"D"},{code:"KeyF",small:"f",shift:"F"},{code:"KeyG",small:"g",shift:"G"},{code:"KeyH",small:"h",shift:"H"},{code:"KeyJ",small:"j",shift:"J"},{code:"KeyK",small:"k",shift:"K"},{code:"KeyL",small:"l",shift:"L"},{code:"Semicolon",small:";",shift:":"},{code:"Quote",small:"'",shift:'"'},{code:"Enter",small:"Enter",shift:null,isFnKey:!0},{code:"ShiftLeft",small:"Shift",shift:null,isFnKey:!0},{code:"KeyZ",small:"z",shift:"Z"},{code:"KeyX",small:"x",shift:"X"},{code:"KeyC",small:"c",shift:"C"},{code:"KeyV",small:"v",shift:"V"},{code:"KeyB",small:"b",shift:"B"},{code:"KeyN",small:"n",shift:"N"},{code:"KeyM",small:"m",shift:"M"},{code:"Comma",small:",",shift:"<"},{code:"Period",small:".",shift:">"},{code:"Slash",small:"/",shift:"?"},{code:"ArrowUp",small:"&uarr;",shift:null,isFnKey:!0},{code:"ShiftRight",small:"Shift",shift:null,isFnKey:!0},{code:"ControlLeft",small:"Ctrl",shift:null,isFnKey:!0},{code:"MetaLeft",small:"Win",shift:null,isFnKey:!0},{code:"AltLeft",small:"Alt",shift:null,isFnKey:!0},{code:"Space",small:" ",shift:" "},{code:"AltRight",small:"Alt",shift:null,isFnKey:!0},{code:"ArrowLeft",small:"&larr;",shift:null,isFnKey:!0},{code:"ArrowDown",small:"&darr;",shift:null,isFnKey:!0},{code:"ArrowRight",small:"&rarr;",shift:null,isFnKey:!0},{code:"ControlRight",small:"Ctrl",shift:null,isFnKey:!0}]},v=new class extends m{constructor(e){super(e),this.create()}create(){const e=new p,t=new b(g,[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","IntlBackslash","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]]);this.node.append(new m(this.node,"h1","title","RSS Virtual Keyboard").node,e.node,t.container.node,new m(this.node,"p","subtitle","This keyboard is designed for the Windows OS.").node,new m(this.node,"p","subtitle","Use left <kbd>Ctrl</kbd> + <kbd>Alt</kbd> to switch layout.").node);const s=new K(t,e);this.keyboard=t,this.output=e,this.controller=s}}(document.body);window.app=v})()})();